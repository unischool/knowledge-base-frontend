import{d as p,r as a,a as m,c as u,b as t,e as v,w as f,v as b,f as k,t as i,g as y,o as d,_ as w}from"./index-C4rmc0Co.js";const M=p({name:"DragoTestingView",setup(){const s=a(""),e=a(""),o=a(!1);return{message:s,result:e,isLoading:o,sendMessage:()=>{o.value=!0,e.value="",console.log(s.value),s.value.endsWith("？")||(s.value+="？"),m.get("https://knowledge-base-backend.leechiuhui.workers.dev/generateBeddings/"+s.value,{headers:{"Content-Type":"application/json"}}).then(n=>{console.log(n),e.value=n.data,o.value=!1})},parseResult:n=>n==="。"?"請說得詳細一點":n}}}),V={class:"ui segment"},D={class:"ui input"},T={class:"result"},B={key:0},C={key:1},R={class:"ui celled table"};function $(s,e,o,r,g,n){return d(),u("main",null,[e[8]||(e[8]=t("h1",{class:"ui header"},"Drago測試",-1)),t("div",V,[e[6]||(e[6]=v("輸入創源工具問題和R2資料庫文件做向量比對，取最高分的兩個文件內容回傳。")),e[7]||(e[7]=t("p",null,"請輸入問題",-1)),t("div",D,[f(t("input",{autofocus:"",type:"text",placeholder:"請輸入問題..","onUpdate:modelValue":e[0]||(e[0]=l=>s.message=l),onKeyup:e[1]||(e[1]=k((...l)=>s.sendMessage&&s.sendMessage(...l),["enter"]))},null,544),[[b,s.message]]),t("button",{class:"ui button",onClick:e[2]||(e[2]=(...l)=>s.sendMessage&&s.sendMessage(...l))},"送出")]),t("div",T,[s.result===""&&s.message!==""&&s.isLoading?(d(),u("p",B,"載入中，請稍候...")):s.result!==""?(d(),u("p",C,[e[5]||(e[5]=t("h1",null,"查詢結果列表如下",-1)),t("table",R,[t("tbody",null,[e[4]||(e[4]=t("tr",null,[t("td",null,"問題"),t("td",null,"答案"),t("td",null,"原始文件")],-1)),t("tr",null,[t("td",null,i(s.message),1),t("td",null,i(s.parseResult(s.result)),1),e[3]||(e[3]=t("td",null,null,-1))])])])])):y("",!0)])])])}const K=w(M,[["render",$],["__scopeId","data-v-4e29e757"]]);export{K as default};
